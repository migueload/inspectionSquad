"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4177],{4177:(I,d,a)=>{a.r(d),a.d(d,{DashboardPageModule:()=>S});var r=a(6814),h=a(95),i=a(1929),c=a(1147),g=a(5861),f=a(8162),t=a(9212),p=a(3378),m=a(7346);const b=o=>["/observation-section",o];function Z(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"ion-row")(1,"ion-col")(2,"ion-card",18),t.NdJ("click",function(){const u=t.CHM(e).$implicit,T=t.oxw();return t.KtG(T.setCode(u))}),t.TgZ(3,"ion-card-header")(4,"ion-card-subtitle")(5,"b"),t._uU(6,"Date:"),t.qZA(),t._uU(7),t.qZA(),t.TgZ(8,"ion-card-subtitle"),t._uU(9),t.qZA(),t.TgZ(10,"ion-card-title"),t._uU(11),t.qZA()(),t.TgZ(12,"ion-card-content"),t._uU(13),t.qZA()()()()}if(2&o){const e=l.$implicit;t.xp6(2),t.Q6J("routerLink",t.VKq(6,b,e.id_inspection)),t.xp6(5),t.hij(" ",e.date,""),t.xp6(2),t.AsE("",e.id_inspection," - ",e.description_inspection,""),t.xp6(2),t.Oqu(e.name_emp),t.xp6(2),t.hij(" ",e.address_emp," ")}}function A(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"ion-grid")(1,"ion-row")(2,"ion-col")(3,"ion-card")(4,"ion-card-content")(5,"ion-label",19),t._uU(6," Has no pending inspections"),t._UZ(7,"ion-icon",20),t.qZA()()()()(),t.TgZ(8,"ion-row")(9,"ion-col",21)(10,"ion-button",22),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.update())}),t._UZ(11,"ion-icon",23),t._uU(12,"Update"),t.qZA()()()()}}function _(o,l){1&o&&(t.TgZ(0,"ion-tab-button",24),t._UZ(1,"ion-icon",25),t.qZA())}const v=[{path:"",component:(()=>{class o{constructor(e,n,s){this.service=e,this.navCtrl=n,this.actionSheetCtrl=s,this.isActionSheetOpen=!1,this.vacio=!1,this.swAdmin=!1,this.isRefrescar=!1}ngOnInit(){var e=this;return(0,g.Z)(function*(){document.body.classList.remove("dark"),localStorage.setItem("id_inspection",""),e.user=localStorage.getItem("username"),e.nivel=localStorage.getItem("nivel"),e.swAdmin="1"==e.nivel,"1"==e.nivel?e.loadAssigmentAll():e.loadAssigment();let n=yield f.V1.checkPermissions();console.log(n)})()}update(){localStorage.setItem("id_inspection",""),this.user=localStorage.getItem("username"),this.nivel=localStorage.getItem("nivel"),this.swAdmin="1"==this.nivel,"1"==this.nivel?this.loadAssigmentAll():this.loadAssigment()}loadAssigmentAll(){this.service.getAsignmentAll().subscribe(e=>{this.datos=e,this.vacio=null==e[0]},e=>{console.error("Error al obtener los datos",e)})}loadAssigment(){const n={id:localStorage.getItem("id_inspector")};console.log(n),this.service.getAssigmentById(n).subscribe(s=>{this.datos=s,this.vacio=null==s[0]},s=>{console.error("Error al obtener los datos",s)})}refreshPage(){this.ionViewWillEnter()}ionViewWillEnter(){this.isRefrescar&&(document.location.reload(),this.isRefrescar=!1)}setCode(e){const n=[];n.push(e.id_inspection),localStorage.setItem("codes",n),localStorage.setItem("id_assigment",e.id),localStorage.setItem("type_inspection",e.id_inspection),localStorage.setItem("address_emp",e.address_emp),localStorage.setItem("name_emp",e.name_emp),localStorage.setItem("date",e.date)}closeSesion(){localStorage.clear(),this.navCtrl.navigateForward("")}presentActionSheet(){var e=this;return(0,g.Z)(function*(){yield(yield e.actionSheetCtrl.create({header:"Actions",buttons:[{text:"Are you sure you log out?",role:"exit",handler:()=>{e.closeSesion()}},{text:"Cancel",role:"cancel",data:{action:"cancel"}}]})).present()})()}static#t=this.\u0275fac=function(n){return new(n||o)(t.Y36(p.m),t.Y36(m.SH),t.Y36(i.BX))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-dashboard"]],decls:27,vars:6,consts:[[3,"translucent"],["src","../../assets/img/logo_circle.png","alt","Logo Inspection squad",2,"width","50px"],[1,"user",2,"text-align","right",3,"click"],[2,"color","#6E6E6E"],["name","person"],[3,"fullscreen"],[2,"text-align","left","margin-left","20px"],[1,"titulo"],[1,"titulo",2,"font-size","14px"],[4,"ngFor","ngForOf"],[4,"ngIf"],[2,"height","80px"],["slot","bottom",2,"background-color","#1c345c","height","100px"],["tab","","routerLink","../assing",2,"font-size","14px","background-color","#1c345c","color","#fff"],["size","large","name","person-add-outline"],["tab","","routerLink","../list",2,"font-size","14px","background-color","#1c345c","color","#fff"],["aria-hidden","true","size","large","name","list"],["tab","","routerLink","../inspector","style","font-size:14px;background-color: #1c345c;color: #fff;",4,"ngIf"],[3,"routerLink","click"],[2,"font-size","20px"],["name","alert"],[2,"text-align","center"],["fill","default","size","large",2,"background-color","#fff","color","#000",3,"click"],["name","reload-outline"],["tab","","routerLink","../inspector",2,"font-size","14px","background-color","#1c345c","color","#fff"],["name","person-circle-outline"]],template:function(n,s){1&n&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar"),t._UZ(2,"ion-img",1),t.TgZ(3,"div",2),t.NdJ("click",function(){return s.presentActionSheet()}),t.TgZ(4,"ion-label",3),t._uU(5),t._UZ(6,"ion-icon",4),t.qZA()()()(),t.TgZ(7,"ion-content",5),t._UZ(8,"br"),t.TgZ(9,"div",6)(10,"ion-label",7),t._uU(11,"DASHBOARD"),t.qZA(),t._UZ(12,"br"),t.TgZ(13,"ion-label",8),t._uU(14,"INSPECTIONS PENDING"),t.qZA()(),t.TgZ(15,"ion-grid"),t.YNc(16,Z,14,8,"ion-row",9),t.qZA(),t.YNc(17,A,13,0,"ion-grid",10),t.qZA(),t.TgZ(18,"ion-footer")(19,"ion-toolbar",11)(20,"ion-tabs")(21,"ion-tab-bar",12)(22,"ion-tab-button",13),t._UZ(23,"ion-icon",14),t.qZA(),t.TgZ(24,"ion-tab-button",15),t._UZ(25,"ion-icon",16),t.qZA(),t.YNc(26,_,2,0,"ion-tab-button",17),t.qZA()()()()),2&n&&(t.Q6J("translucent",!0),t.xp6(5),t.hij("",s.user," "),t.xp6(2),t.Q6J("fullscreen",!0),t.xp6(9),t.Q6J("ngForOf",s.datos),t.xp6(1),t.Q6J("ngIf",s.vacio),t.xp6(9),t.Q6J("ngIf",s.swAdmin))},dependencies:[r.sg,r.O5,i.YG,i.PM,i.FN,i.Zi,i.tO,i.Dq,i.wI,i.W2,i.fr,i.jY,i.Gu,i.gu,i.Xz,i.Q$,i.Nd,i.yq,i.ZU,i.sr,i.UN,i.YI,c.rH],styles:["ion-card-title[_ngcontent-%COMP%]{font-size:20px}ion-card-subtitle[_ngcontent-%COMP%]{font-size:14px}"]})}return o})()}];let x=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[c.Bz.forChild(v),c.Bz]})}return o})(),S=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[r.ez,h.u5,i.Pc,x]})}return o})()}}]);