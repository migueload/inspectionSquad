"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4177],{4177:(I,d,a)=>{a.r(d),a.d(d,{DashboardPageModule:()=>T});var r=a(6814),f=a(95),n=a(1929),c=a(1147),g=a(5861),p=a(8162),t=a(9212),h=a(3378),m=a(7346);const b=e=>["/observation-section",e];function Z(e,l){if(1&e){const o=t.EpF();t.TgZ(0,"ion-row")(1,"ion-col")(2,"ion-card",17),t.NdJ("click",function(){const u=t.CHM(o).$implicit,x=t.oxw();return t.KtG(x.setCode(u))}),t.TgZ(3,"ion-card-header")(4,"ion-card-subtitle")(5,"b"),t._uU(6,"Date:"),t.qZA(),t._uU(7),t.qZA(),t.TgZ(8,"ion-card-subtitle"),t._uU(9),t.qZA(),t.TgZ(10,"ion-card-title"),t._uU(11),t.qZA()(),t.TgZ(12,"ion-card-content"),t._uU(13),t.qZA()()()()}if(2&e){const o=l.$implicit;t.xp6(2),t.Q6J("routerLink",t.VKq(6,b,o.id_inspection)),t.xp6(5),t.hij(" ",o.date,""),t.xp6(2),t.AsE("",o.id_inspection," - ",o.description_inspection,""),t.xp6(2),t.Oqu(o.name_emp),t.xp6(2),t.hij(" ",o.address_emp," ")}}function A(e,l){1&e&&(t.TgZ(0,"ion-grid")(1,"ion-row")(2,"ion-col")(3,"ion-card")(4,"ion-card-content")(5,"ion-label",18),t._uU(6," Has no pending inspections"),t._UZ(7,"ion-icon",19),t.qZA()()()()()())}function v(e,l){1&e&&(t.TgZ(0,"ion-tab-button",20),t._UZ(1,"ion-icon",21),t.TgZ(2,"ion-label"),t._uU(3,"INSPECTORS"),t.qZA()())}const _=[{path:"",component:(()=>{class e{constructor(o,i,s){this.service=o,this.navCtrl=i,this.actionSheetCtrl=s,this.isActionSheetOpen=!1,this.vacio=!1,this.swAdmin=!1,this.isRefrescar=!1}ngOnInit(){var o=this;return(0,g.Z)(function*(){document.body.classList.remove("dark"),localStorage.setItem("id_inspection",""),o.user=localStorage.getItem("username"),o.nivel=localStorage.getItem("nivel"),o.swAdmin="1"==o.nivel,"1"==o.nivel?o.loadAssigmentAll():o.loadAssigment();let i=yield p.V1.checkPermissions();console.log(i)})()}loadAssigmentAll(){this.service.getAsignmentAll().subscribe(o=>{this.datos=o,this.vacio=null==o[0]},o=>{console.error("Error al obtener los datos",o)})}loadAssigment(){const i={id:localStorage.getItem("id_inspector")};console.log(i),this.service.getAssigmentById(i).subscribe(s=>{this.datos=s,this.vacio=null==s[0]},s=>{console.error("Error al obtener los datos",s)})}refreshPage(){this.ionViewWillEnter()}ionViewWillEnter(){this.isRefrescar&&(document.location.reload(),this.isRefrescar=!1)}setCode(o){const i=[];i.push(o.id_inspection),localStorage.setItem("codes",i),localStorage.setItem("id_assigment",o.id),localStorage.setItem("type_inspection",o.id_inspection),localStorage.setItem("address_emp",o.address_emp),localStorage.setItem("name_emp",o.name_emp),localStorage.setItem("date",o.date)}closeSesion(){localStorage.clear(),this.navCtrl.navigateForward("")}presentActionSheet(){var o=this;return(0,g.Z)(function*(){yield(yield o.actionSheetCtrl.create({header:"Actions",buttons:[{text:"Are you sure you log out?",role:"exit",handler:()=>{o.closeSesion()}},{text:"Cancel",role:"cancel",data:{action:"cancel"}}]})).present()})()}static#t=this.\u0275fac=function(i){return new(i||e)(t.Y36(h.m),t.Y36(m.SH),t.Y36(n.BX))};static#o=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-dashboard"]],decls:31,vars:6,consts:[[3,"translucent"],["src","../../assets/img/logo_circle.png","alt","Logo Inspection squad",2,"width","50px"],[1,"user",2,"text-align","right",3,"click"],[2,"color","#6E6E6E"],["name","person"],[3,"fullscreen"],[2,"text-align","left","margin-left","20px"],[1,"titulo"],[1,"titulo",2,"font-size","14px"],[4,"ngFor","ngForOf"],[4,"ngIf"],["slot","bottom",2,"background-color","#1c345c"],["tab","","routerLink","../assing",2,"font-size","14px","background-color","#1c345c","color","#fff"],["name","person-add-outline"],["tab","","routerLink","../list",2,"font-size","14px","background-color","#1c345c","color","#fff"],["aria-hidden","true","name","list"],["tab","","routerLink","../inspector","style","font-size:14px;background-color: #1c345c;color: #fff;",4,"ngIf"],[3,"routerLink","click"],[2,"font-size","20px"],["name","alert"],["tab","","routerLink","../inspector",2,"font-size","14px","background-color","#1c345c","color","#fff"],["name","person-circle-outline"]],template:function(i,s){1&i&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar"),t._UZ(2,"ion-img",1),t.TgZ(3,"div",2),t.NdJ("click",function(){return s.presentActionSheet()}),t.TgZ(4,"ion-label",3),t._uU(5),t._UZ(6,"ion-icon",4),t.qZA()()()(),t.TgZ(7,"ion-content",5),t._UZ(8,"br"),t.TgZ(9,"div",6)(10,"ion-label",7),t._uU(11,"DASHBOARD"),t.qZA(),t._UZ(12,"br"),t.TgZ(13,"ion-label",8),t._uU(14,"INSPECTIONS PENDING"),t.qZA()(),t.TgZ(15,"ion-grid"),t.YNc(16,Z,14,8,"ion-row",9),t.qZA(),t.YNc(17,A,8,0,"ion-grid",10),t.qZA(),t.TgZ(18,"ion-footer")(19,"ion-toolbar")(20,"ion-tabs")(21,"ion-tab-bar",11)(22,"ion-tab-button",12),t._UZ(23,"ion-icon",13),t.TgZ(24,"ion-label"),t._uU(25,"ASSING"),t.qZA()(),t.TgZ(26,"ion-tab-button",14),t._UZ(27,"ion-icon",15),t.TgZ(28,"ion-label"),t._uU(29,"LIST"),t.qZA()(),t.YNc(30,v,4,0,"ion-tab-button",16),t.qZA()()()()),2&i&&(t.Q6J("translucent",!0),t.xp6(5),t.hij("",s.user," "),t.xp6(2),t.Q6J("fullscreen",!0),t.xp6(9),t.Q6J("ngForOf",s.datos),t.xp6(1),t.Q6J("ngIf",s.vacio),t.xp6(13),t.Q6J("ngIf",s.swAdmin))},dependencies:[r.sg,r.O5,n.PM,n.FN,n.Zi,n.tO,n.Dq,n.wI,n.W2,n.fr,n.jY,n.Gu,n.gu,n.Xz,n.Q$,n.Nd,n.yq,n.ZU,n.sr,n.UN,n.YI,c.rH],styles:["ion-card-title[_ngcontent-%COMP%]{font-size:20px}ion-card-subtitle[_ngcontent-%COMP%]{font-size:14px}"]})}return e})()}];let S=(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#o=this.\u0275mod=t.oAB({type:e});static#e=this.\u0275inj=t.cJS({imports:[c.Bz.forChild(_),c.Bz]})}return e})(),T=(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#o=this.\u0275mod=t.oAB({type:e});static#e=this.\u0275inj=t.cJS({imports:[r.ez,f.u5,n.Pc,S]})}return e})()}}]);