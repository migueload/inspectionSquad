"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8930],{8930:(_,u,c)=>{c.r(u),c.d(u,{InspectorPageModule:()=>w});var o=c(6814),g=c(95),s=c(1929),l=c(1147),m=c(5861),t=c(9212),e=c(3378),T=c(7346);function b(a,U){if(1&a){const n=t.EpF();t.TgZ(0,"ion-card")(1,"div",19)(2,"ion-icon",20),t.NdJ("click",function(){const p=t.CHM(n).$implicit,d=t.oxw();return t.KtG(d.showConfirmation(p.id))}),t.qZA()(),t.TgZ(3,"ion-card-header")(4,"ion-card-subtitle")(5,"b"),t._uU(6,"Address: "),t.qZA(),t._uU(7),t.qZA(),t.TgZ(8,"ion-card-subtitle")(9,"b"),t._uU(10,"Number phone: "),t.qZA(),t._uU(11),t.qZA(),t.TgZ(12,"ion-card-subtitle")(13,"b"),t._uU(14,"E-mail: "),t.qZA(),t._uU(15),t.qZA(),t.TgZ(16,"ion-card-title"),t._uU(17),t.qZA()(),t._UZ(18,"ion-card-content"),t.qZA()}if(2&a){const n=U.$implicit;t.xp6(7),t.hij(" ",n.address,""),t.xp6(4),t.hij(" ",n.phone,""),t.xp6(4),t.Oqu(n.email),t.xp6(2),t.AsE("",n.name," ",n.last_name,"")}}const C=[{path:"",component:(()=>{class a{constructor(n,i,r,p){this.service=n,this.toast=i,this.alert=r,this.navCtrl=p,this.user=localStorage.getItem("username")}ngOnInit(){this.loadInspectors()}loadInspectors(){this.service.getInspectors().subscribe(n=>{this.datos=n},n=>{console.log("Error"+n)})}showConfirmation(n){var i=this;return(0,m.Z)(function*(){yield(yield i.alert.create({header:"Confirmation",message:"\xbfAre you sure?",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:()=>{console.log("Acci\xf3n cancelada")}},{text:"Ok",handler:()=>{i.delInspectors(n)}}]})).present()})()}save(){const n=document.getElementById("name"),i=document.getElementById("last_name"),r=document.getElementById("email"),p=document.getElementById("address"),d=document.getElementById("phone"),I=n.value,v=i.value,A=r.value,M=p.value,f=d.value;let h="";if(""==I&&(h="Name, "),""==v&&(h+="Last Name, "),""==f&&(h+="Number Phone, "),""==A&&(h+="E-mail, "),this.campos=h,""!=h)this.validarVacio();else{const y={name:I,last_name:v,email:A,phone:f,address:M};console.log(y),this.service.saveInspector(y).subscribe(Z=>{this.clearFields(),this.success(),this.loadInspectors()},Z=>{console.log("Error"+Z)})}}delInspectors(n){this.service.delInspector({id:n}).subscribe(r=>{this.loadInspectors()},r=>{console.log("Error"+r)})}clearFields(){document.getElementById("name");const i=document.getElementById("last_name"),r=document.getElementById("email"),p=document.getElementById("address"),d=document.getElementById("phone");i.value="",r.value="",d.value="",p.value=""}back(){this.navCtrl.navigateForward("dashboard")}closeSesion(){localStorage.clear(),this.navCtrl.navigateForward("")}success(){var n=this;return(0,m.Z)(function*(){(yield n.toast.create({message:"The inspector was saved successfully.",duration:3e3,position:"middle"})).present()})()}validarVacio(){var n=this;return(0,m.Z)(function*(){(yield n.toast.create({message:"("+n.campos+") Fields are required",duration:3e3,position:"middle"})).present()})()}delete(){var n=this;return(0,m.Z)(function*(){(yield n.toast.create({message:"The inspector has been eliminated.",duration:2e3,position:"middle"})).present()})()}static#t=this.\u0275fac=function(i){return new(i||a)(t.Y36(e.m),t.Y36(s.yF),t.Y36(s.Br),t.Y36(T.SH))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-inspector"]],decls:39,vars:4,consts:[[3,"translucent"],["src","../../assets/img/logo_circle.png","alt","Logo Inspection squad",2,"width","50px"],[1,"user",2,"text-align","right",3,"click"],[2,"color","#6E6E6E"],["name","person"],[3,"fullscreen"],[2,"text-align","left","margin-left","20px"],[1,"titulo"],["label","Name","id","name"],["label","Last Name","id","last_name"],["label","E-mail","id","email"],["label","Number Phone","id","phone"],["placeholder","Type address here","id","address"],[2,"margin-top","50px","margin-left","20px","padding-right","20px","margin-bottom","20px"],["fill","clear","expand","full",2,"background-color","#1c345c","color","#fff",3,"click"],["name","checkmark-outline"],[4,"ngFor","ngForOf"],["fill","default","expand","full",2,"background-color","#fff","color","#000",3,"click"],["name","chevron-back-outline"],[2,"text-align","right"],["name","close-circle-outline",2,"color","#b11c44","font-size","18px",3,"click"]],template:function(i,r){1&i&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar"),t._UZ(2,"ion-img",1),t.TgZ(3,"div",2),t.NdJ("click",function(){return r.closeSesion()}),t.TgZ(4,"ion-label",3),t._uU(5),t._UZ(6,"ion-icon",4),t.qZA()()()(),t.TgZ(7,"ion-content",5),t._UZ(8,"br"),t.TgZ(9,"div",6)(10,"ion-label",7),t._uU(11,"INSPECTOR"),t.qZA()(),t._UZ(12,"br"),t.TgZ(13,"ion-list")(14,"ion-item"),t._UZ(15,"ion-input",8),t.qZA(),t._UZ(16,"br"),t.TgZ(17,"ion-item"),t._UZ(18,"ion-input",9),t.qZA(),t._UZ(19,"br"),t.TgZ(20,"ion-item"),t._UZ(21,"ion-input",10),t.qZA(),t.TgZ(22,"ion-item"),t._UZ(23,"ion-input",11),t.qZA(),t.TgZ(24,"ion-card")(25,"ion-card-content"),t._UZ(26,"ion-textarea",12),t.qZA()()(),t.TgZ(27,"div",13)(28,"ion-button",14),t.NdJ("click",function(){return r.save()}),t._UZ(29,"ion-icon",15),t._uU(30,"Save"),t.qZA()(),t.TgZ(31,"ion-grid")(32,"ion-row")(33,"ion-col"),t.YNc(34,b,19,5,"ion-card",16),t.qZA()()()(),t.TgZ(35,"ion-footer")(36,"ion-button",17),t.NdJ("click",function(){return r.back()}),t._UZ(37,"ion-icon",18),t._uU(38,"Back"),t.qZA()()),2&i&&(t.Q6J("translucent",!0),t.xp6(5),t.hij("",r.user," "),t.xp6(2),t.Q6J("fullscreen",!0),t.xp6(27),t.Q6J("ngForOf",r.datos))},dependencies:[o.sg,s.YG,s.PM,s.FN,s.Zi,s.tO,s.Dq,s.wI,s.W2,s.fr,s.jY,s.Gu,s.gu,s.Xz,s.pK,s.Ie,s.Q$,s.q_,s.Nd,s.g2,s.sr,s.j9],styles:["ion-card-title[_ngcontent-%COMP%]{font-size:20px}"]})}return a})()}];let O=(()=>{class a{static#t=this.\u0275fac=function(i){return new(i||a)};static#e=this.\u0275mod=t.oAB({type:a});static#n=this.\u0275inj=t.cJS({imports:[l.Bz.forChild(C),l.Bz]})}return a})(),w=(()=>{class a{static#t=this.\u0275fac=function(i){return new(i||a)};static#e=this.\u0275mod=t.oAB({type:a});static#n=this.\u0275inj=t.cJS({imports:[o.ez,g.u5,s.Pc,O]})}return a})()},3378:(_,u,c)=>{c.d(u,{m:()=>s});var o=c(9862),g=c(9212);let s=(()=>{class l{constructor(t){this.http=t,this.urlApi="https://www.inspectionsquad.com/api/",this.urlApiReport="https://www.inspectionsquad.com/report/index.php"}getInspectionstAll(){return this.http.get(this.urlApi+"Inspections/getAll")}getAsignmentAll(){return this.http.get(this.urlApi+"Assignment/getAll")}getAssigmentById(t){const e={headers:new o.WM({"Content-Type":"application/json"})};return this.http.post(this.urlApi+"Assignment/getById",t,e)}getLogin(t){const e={headers:new o.WM({"Content-Type":"application/json"})};return this.http.post(this.urlApi+"Usuarios/login",t,e)}getObservationSection(t){const e={headers:new o.WM({"Content-Type":"application/json"})};return this.http.post(this.urlApi+"Observation/getByIdFather",t,e)}getObservation(t){const e={headers:new o.WM({"Content-Type":"application/json"})};return this.http.post(this.urlApi+"Observation/getObservation",t,e)}getObservationChild(t){const e={headers:new o.WM({"Content-Type":"application/json"})};return this.http.post(this.urlApi+"Observation/getObservationChild",t,e)}saveAssing(t){const e={headers:new o.WM({"Content-Type":"application/json"})};return this.http.post(this.urlApi+"Assignment/save",t,e)}delAssing(t){const e={headers:new o.WM({"Content-Type":"application/json"})};return this.http.post(this.urlApi+"Assignment/delete",t,e)}saveInspection(t){const e={headers:new o.WM({"Content-Type":"application/json"})};return this.http.post(this.urlApi+"Inspections/save",t,e)}saveInspectionDetails(t){const e={headers:new o.WM({"Content-Type":"application/json"})};return this.http.post(this.urlApi+"Inspections/saveDetails",t,e)}getInspectionsByStatusAndId(t){const e={headers:new o.WM({"Content-Type":"application/json"})};return this.http.post(this.urlApi+"Inspections/getInspectionsByStatusAndId",t,e)}getInspectionsByStatus(t){const e={headers:new o.WM({"Content-Type":"application/json"})};return this.http.post(this.urlApi+"Inspections/getInspectionsByStatus",t,e)}getInspectors(){return this.http.get(this.urlApi+"Inspectors/getAll")}delInspector(t){const e={headers:new o.WM({"Content-Type":"application/json"})};return this.http.post(this.urlApi+"Inspectors/delete",t,e)}saveInspector(t){const e={headers:new o.WM({"Content-Type":"application/json"})};return this.http.post(this.urlApi+"Inspectors/save",t,e)}getInspectionById(t){const e={headers:new o.WM({"Content-Type":"application/json"})};return this.http.post(this.urlApi+"Inspections/getInspectionById",t,e)}getDetailsInspection(t){const e={headers:new o.WM({"Content-Type":"application/json"})};return this.http.post(this.urlApi+"Inspections/getDetailsInspection",t,e)}setUpdateStatus(t){const e={headers:new o.WM({"Content-Type":"application/json"})};return this.http.post(this.urlApi+"Inspections/setUpdateStatus",t,e)}saveImage(t){const e={headers:new o.WM({"Content-Type":"application/json"})};return this.http.post(this.urlApi+"Inspections/saveImage",t,e)}getPhotos(t){const e={headers:new o.WM({"Content-Type":"application/json"})};return this.http.post(this.urlApi+"Inspections/getPhotos",t,e)}delPhoto(t){const e={headers:new o.WM({"Content-Type":"application/json"})};return this.http.post(this.urlApi+"Inspections/delImage",t,e)}generateReport(t){return this.http.get(this.urlApiReport+"?id="+t)}static#t=this.\u0275fac=function(e){return new(e||l)(g.LFG(o.eN))};static#e=this.\u0275prov=g.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})()}}]);