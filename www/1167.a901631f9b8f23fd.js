"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1167],{1167:(m,d,c)=>{c.r(d),c.d(d,{ListPageModule:()=>S});var r=c(6814),I=c(95),o=c(1929),h=c(1147),A=c(5861),t=c(9212),e=c(7346),n=c(3378);function v(s,u){if(1&s&&(t.TgZ(0,"ion-label")(1,"b"),t._uU(2,"Inspected by:"),t.qZA(),t._uU(3),t.qZA()),2&s){const l=t.oxw().$implicit;t.xp6(3),t.hij(" ",l.nombre_inspector," ")}}const _=s=>["/details",s];function f(s,u){if(1&s&&(t.TgZ(0,"ion-row")(1,"ion-col")(2,"ion-card",18)(3,"ion-card-header"),t.YNc(4,v,4,1,"ion-label",15),t.TgZ(5,"ion-label")(6,"b"),t._uU(7,"Date:"),t.qZA(),t._uU(8),t.qZA(),t.TgZ(9,"ion-label")(10,"b"),t._uU(11,"Type:"),t.qZA(),t._uU(12),t.qZA(),t._UZ(13,"br"),t.TgZ(14,"ion-card-title"),t._uU(15),t.qZA()(),t.TgZ(16,"ion-card-content")(17,"div",19)(18,"ion-label")(19,"b"),t._UZ(20,"ion-icon",20),t._uU(21,"STATUS: "),t.qZA(),t.TgZ(22,"span",21),t._uU(23),t.qZA()()()()()()()),2&s){const l=u.$implicit,i=t.oxw();t.xp6(2),t.Q6J("routerLink",t.VKq(6,_,l.id)),t.xp6(2),t.Q6J("ngIf",l.nombre_inspector),t.xp6(4),t.hij(" ",l.date,""),t.xp6(4),t.hij(" ",l.id_inspection,""),t.xp6(3),t.Oqu(l.name_emp),t.xp6(8),t.Oqu(i.status)}}function T(s,u){1&s&&(t.TgZ(0,"ion-grid")(1,"ion-row")(2,"ion-col")(3,"ion-card")(4,"ion-card-content")(5,"ion-label",22),t._uU(6,"No results found"),t.qZA()()()()()())}const y=[{path:"",component:(()=>{var s;class u{constructor(i,a,p){this.navCtrl=i,this.actionSheetCtrl=a,this.service=p,this.user=localStorage.getItem("username"),this.isActionSheetOpen=!1,this.vacio=!1}ngOnInit(){this.load(0)}load(i){"1"==localStorage.getItem("nivel")?this.getInspectionsByStatus(i):this.getInspectionsByStatusAndId(i,localStorage.getItem("id_inspector"))}getStatus(i){let a="";return 0==i&&(a="PENDING"),1==i&&(a="COMPLETED"),2==i&&(a="CANCELED"),a}getInspectionsByStatus(i){this.service.getInspectionsByStatus({status:i}).subscribe(p=>{this.datos=p,console.log(this.datos),this.vacio=null==p[0],this.status=this.getStatus(i)},p=>{console.log("Error"+p)})}getInspectionsByStatusAndId(i,a){this.service.getInspectionsByStatusAndId({status:i,id:a}).subscribe(g=>{this.datos=g,this.vacio=null==g[0],this.status=this.getStatus(i)},g=>{console.log("Error"+g)})}filterByDate(i){const a=i.target.value;a&&""!==a.trim()?this.datos=this.datos.filter(p=>{const g=new Date(p.date),O=new Date(a);return g.toISOString().slice(0,10)===O.toISOString().slice(0,10)}):this.ngOnInit()}closeSesion(){localStorage.clear(),this.navCtrl.navigateForward("")}presentActionSheet(){var i=this;return(0,A.Z)(function*(){yield(yield i.actionSheetCtrl.create({header:"Actions",buttons:[{text:"Are you sure you log out?",role:"exit",handler:()=>{i.closeSesion()}},{text:"Cancel",role:"cancel",data:{action:"cancel"}}]})).present()})()}}return(s=u).\u0275fac=function(i){return new(i||s)(t.Y36(e.SH),t.Y36(o.BX),t.Y36(n.m))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-list"]],decls:34,vars:4,consts:[[3,"translucent"],["src","../../assets/img/logo_circle.png","alt","Logo Inspection squad",2,"width","50px"],[1,"user",2,"text-align","right",3,"click"],[2,"color","#6E6E6E"],["name","person"],[2,"text-align","left","margin-left","20px"],[1,"titulo"],["value","buttons"],["value","pending",3,"click"],["value","completed",3,"click"],["value","canceled",3,"click"],[2,"width","400px"],["name","filter-circle-outline"],["type","date","id","date","label","Select Date",3,"ionInput"],[4,"ngFor","ngForOf"],[4,"ngIf"],["fill","default","expand","full","routerLink","../dashboard",2,"background-color","#fff","color","#000"],["name","chevron-back-outline"],[3,"routerLink"],[2,"text-align","right"],["name","bookmark"],[1,"status"],[2,"font-size","20px"]],template:function(i,a){1&i&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar"),t._UZ(2,"ion-img",1),t.TgZ(3,"div",2),t.NdJ("click",function(){return a.presentActionSheet()}),t.TgZ(4,"ion-label",3),t._uU(5),t._UZ(6,"ion-icon",4),t.qZA()()()(),t.TgZ(7,"ion-content"),t._UZ(8,"br"),t.TgZ(9,"div",5)(10,"ion-label",6),t._uU(11,"LIST INSPECTIONS"),t.qZA()(),t._UZ(12,"br"),t.TgZ(13,"ion-segment",7)(14,"ion-segment-button",8),t.NdJ("click",function(){return a.load(0)}),t.TgZ(15,"ion-label"),t._uU(16,"Pending"),t.qZA()(),t.TgZ(17,"ion-segment-button",9),t.NdJ("click",function(){return a.load(1)}),t.TgZ(18,"ion-label"),t._uU(19,"Completed"),t.qZA()(),t.TgZ(20,"ion-segment-button",10),t.NdJ("click",function(){return a.load(2)}),t.TgZ(21,"ion-label"),t._uU(22,"Canceled"),t.qZA()()(),t._UZ(23,"br"),t.TgZ(24,"ion-item",11),t._UZ(25,"ion-icon",12),t.TgZ(26,"ion-input",13),t.NdJ("ionInput",function(g){return a.filterByDate(g)}),t.qZA()(),t.TgZ(27,"ion-grid"),t.YNc(28,f,24,8,"ion-row",14),t.qZA(),t.YNc(29,T,7,0,"ion-grid",15),t.qZA(),t.TgZ(30,"footer")(31,"ion-button",16),t._UZ(32,"ion-icon",17),t._uU(33,"Back"),t.qZA()()),2&i&&(t.Q6J("translucent",!0),t.xp6(5),t.hij("",a.user," "),t.xp6(23),t.Q6J("ngForOf",a.datos),t.xp6(1),t.Q6J("ngIf",a.vacio))},dependencies:[r.sg,r.O5,o.YG,o.PM,o.FN,o.Zi,o.Dq,o.wI,o.W2,o.jY,o.Gu,o.gu,o.Xz,o.pK,o.Ie,o.Q$,o.Nd,o.cJ,o.GO,o.sr,o.QI,o.j9,o.YI,h.rH],styles:["ion-card-title[_ngcontent-%COMP%]{font-size:20px}ion-card-subtitle[_ngcontent-%COMP%]{font-size:14px}ion-label[_ngcontent-%COMP%]{font-size:14px}.status[_ngcontent-%COMP%]{color:#1c345c;font-size:14px;font-weight:700}"]}),u})()}];let Z=(()=>{var s;class u{}return(s=u).\u0275fac=function(i){return new(i||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[h.Bz.forChild(y),h.Bz]}),u})(),S=(()=>{var s;class u{}return(s=u).\u0275fac=function(i){return new(i||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[r.ez,I.u5,o.Pc,Z]}),u})()},3378:(m,d,c)=>{c.d(d,{m:()=>o});var r=c(9862),I=c(9212);let o=(()=>{var h;class A{constructor(e){this.http=e,this.urlApi="https://www.inspectionsquad.com/api/",this.urlApiReport="https://www.inspectionsquad.com/report/index.php"}getInspectionstAll(){return this.http.get(this.urlApi+"Inspections/getAll")}getAsignmentAll(){return this.http.get(this.urlApi+"Assignment/getAll")}getAssigmentById(e){const n={headers:new r.WM({"Content-Type":"application/json"})};return this.http.post(this.urlApi+"Assignment/getById",e,n)}getLogin(e){const n={headers:new r.WM({"Content-Type":"application/json"})};return this.http.post(this.urlApi+"Usuarios/login",e,n)}getObservationSection(e){const n={headers:new r.WM({"Content-Type":"application/json"})};return this.http.post(this.urlApi+"Observation/getByIdFather",e,n)}getObservation(e){const n={headers:new r.WM({"Content-Type":"application/json"})};return this.http.post(this.urlApi+"Observation/getObservation",e,n)}getObservationChild(e){const n={headers:new r.WM({"Content-Type":"application/json"})};return this.http.post(this.urlApi+"Observation/getObservationChild",e,n)}saveAssing(e){const n={headers:new r.WM({"Content-Type":"application/json"})};return this.http.post(this.urlApi+"Assignment/save",e,n)}delAssing(e){const n={headers:new r.WM({"Content-Type":"application/json"})};return this.http.post(this.urlApi+"Assignment/delete",e,n)}saveInspection(e){const n={headers:new r.WM({"Content-Type":"application/json"})};return this.http.post(this.urlApi+"Inspections/save",e,n)}saveInspectionDetails(e){const n={headers:new r.WM({"Content-Type":"application/json"})};return this.http.post(this.urlApi+"Inspections/saveDetails",e,n)}getInspectionsByStatusAndId(e){const n={headers:new r.WM({"Content-Type":"application/json"})};return this.http.post(this.urlApi+"Inspections/getInspectionsByStatusAndId",e,n)}getInspectionsByStatus(e){const n={headers:new r.WM({"Content-Type":"application/json"})};return this.http.post(this.urlApi+"Inspections/getInspectionsByStatus",e,n)}getInspectors(){return this.http.get(this.urlApi+"Inspectors/getAll")}delInspector(e){const n={headers:new r.WM({"Content-Type":"application/json"})};return this.http.post(this.urlApi+"Inspectors/delete",e,n)}saveInspector(e){const n={headers:new r.WM({"Content-Type":"application/json"})};return this.http.post(this.urlApi+"Inspectors/save",e,n)}getInspectionById(e){const n={headers:new r.WM({"Content-Type":"application/json"})};return this.http.post(this.urlApi+"Inspections/getInspectionById",e,n)}getDetailsInspection(e){const n={headers:new r.WM({"Content-Type":"application/json"})};return this.http.post(this.urlApi+"Inspections/getDetailsInspection",e,n)}setUpdateStatus(e){const n={headers:new r.WM({"Content-Type":"application/json"})};return this.http.post(this.urlApi+"Inspections/setUpdateStatus",e,n)}saveImage(e){const n={headers:new r.WM({"Content-Type":"application/json"})};return this.http.post(this.urlApi+"Inspections/saveImage",e,n)}getPhotos(e){const n={headers:new r.WM({"Content-Type":"application/json"})};return this.http.post(this.urlApi+"Inspections/getPhotos",e,n)}delPhoto(e){const n={headers:new r.WM({"Content-Type":"application/json"})};return this.http.post(this.urlApi+"Inspections/delImage",e,n)}generateReport(e){return this.http.get(this.urlApiReport+"?id="+e)}}return(h=A).\u0275fac=function(e){return new(e||h)(I.LFG(r.eN))},h.\u0275prov=I.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),A})()}}]);