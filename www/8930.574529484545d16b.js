"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8930],{8930:(C,I,c)=>{c.r(I),c.d(I,{InspectorPageModule:()=>P});var i=c(6814),v=c(95),o=c(1929),u=c(1147),h=c(5861),t=c(9212),e=c(3378),n=c(7346);function O(a,d){if(1&a){const p=t.EpF();t.TgZ(0,"ion-card")(1,"div",19)(2,"ion-icon",20),t.NdJ("click",function(){const l=t.CHM(p).$implicit,g=t.oxw();return t.KtG(g.showConfirmation(l.id))}),t.qZA()(),t.TgZ(3,"ion-card-header")(4,"ion-card-subtitle")(5,"b"),t._uU(6,"Address: "),t.qZA(),t._uU(7),t.qZA(),t.TgZ(8,"ion-card-subtitle")(9,"b"),t._uU(10,"Number phone: "),t.qZA(),t._uU(11),t.qZA(),t.TgZ(12,"ion-card-subtitle")(13,"b"),t._uU(14,"E-mail: "),t.qZA(),t._uU(15),t.qZA(),t.TgZ(16,"ion-card-title"),t._uU(17),t.qZA()(),t._UZ(18,"ion-card-content"),t.qZA()}if(2&a){const p=d.$implicit;t.xp6(7),t.hij(" ",p.address,""),t.xp6(4),t.hij(" ",p.phone,""),t.xp6(4),t.Oqu(p.email),t.xp6(2),t.AsE("",p.name," ",p.last_name,"")}}const M=[{path:"",component:(()=>{var a;class d{constructor(s,r,l,g){this.service=s,this.toast=r,this.alert=l,this.navCtrl=g,this.user=localStorage.getItem("username")}ngOnInit(){this.loadInspectors()}loadInspectors(){this.service.getInspectors().subscribe(s=>{this.datos=s},s=>{console.log("Error"+s)})}showConfirmation(s){var r=this;return(0,h.Z)(function*(){yield(yield r.alert.create({header:"Confirmation",message:"\xbfAre you sure?",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:()=>{console.log("Acci\xf3n cancelada")}},{text:"Ok",handler:()=>{r.delInspectors(s)}}]})).present()})()}save(){const s=document.getElementById("name"),r=document.getElementById("last_name"),l=document.getElementById("email"),g=document.getElementById("address"),A=document.getElementById("phone"),f=s.value,y=r.value,Z=l.value,U=g.value,_=A.value;let m="";if(""==f&&(m="Name, "),""==y&&(m+="Last Name, "),""==_&&(m+="Number Phone, "),""==Z&&(m+="E-mail, "),this.campos=m,""!=m)this.validarVacio();else{const T={name:f,last_name:y,email:Z,phone:_,address:U};console.log(T),this.service.saveInspector(T).subscribe(b=>{this.clearFields(),this.success(),this.loadInspectors()},b=>{console.log("Error"+b)})}}delInspectors(s){this.service.delInspector({id:s}).subscribe(l=>{this.loadInspectors()},l=>{console.log("Error"+l)})}clearFields(){document.getElementById("name");const r=document.getElementById("last_name"),l=document.getElementById("email"),g=document.getElementById("address"),A=document.getElementById("phone");r.value="",l.value="",A.value="",g.value=""}back(){this.navCtrl.navigateForward("dashboard")}closeSesion(){localStorage.clear(),this.navCtrl.navigateForward("")}success(){var s=this;return(0,h.Z)(function*(){(yield s.toast.create({message:"The inspector was saved successfully.",duration:3e3,position:"middle"})).present()})()}validarVacio(){var s=this;return(0,h.Z)(function*(){(yield s.toast.create({message:"("+s.campos+") Fields are required",duration:3e3,position:"middle"})).present()})()}delete(){var s=this;return(0,h.Z)(function*(){(yield s.toast.create({message:"The inspector has been eliminated.",duration:2e3,position:"middle"})).present()})()}}return(a=d).\u0275fac=function(s){return new(s||a)(t.Y36(e.m),t.Y36(o.yF),t.Y36(o.Br),t.Y36(n.SH))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-inspector"]],decls:39,vars:4,consts:[[3,"translucent"],["src","../../assets/img/logo_circle.png","alt","Logo Inspection squad",2,"width","50px"],[1,"user",2,"text-align","right",3,"click"],[2,"color","#6E6E6E"],["name","person"],[3,"fullscreen"],[2,"text-align","left","margin-left","20px"],[1,"titulo"],["label","Name","id","name"],["label","Last Name","id","last_name"],["label","E-mail","id","email"],["label","Number Phone","id","phone"],["placeholder","Type address here","id","address"],[2,"margin-top","50px","margin-left","20px","padding-right","20px","margin-bottom","20px"],["fill","clear","expand","full",2,"background-color","#1c345c","color","#fff",3,"click"],["name","checkmark-outline"],[4,"ngFor","ngForOf"],["fill","default","expand","full",2,"background-color","#fff","color","#000",3,"click"],["name","chevron-back-outline"],[2,"text-align","right"],["name","close-circle-outline",2,"color","#b11c44","font-size","18px",3,"click"]],template:function(s,r){1&s&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar"),t._UZ(2,"ion-img",1),t.TgZ(3,"div",2),t.NdJ("click",function(){return r.closeSesion()}),t.TgZ(4,"ion-label",3),t._uU(5),t._UZ(6,"ion-icon",4),t.qZA()()()(),t.TgZ(7,"ion-content",5),t._UZ(8,"br"),t.TgZ(9,"div",6)(10,"ion-label",7),t._uU(11,"INSPECTOR"),t.qZA()(),t._UZ(12,"br"),t.TgZ(13,"ion-list")(14,"ion-item"),t._UZ(15,"ion-input",8),t.qZA(),t._UZ(16,"br"),t.TgZ(17,"ion-item"),t._UZ(18,"ion-input",9),t.qZA(),t._UZ(19,"br"),t.TgZ(20,"ion-item"),t._UZ(21,"ion-input",10),t.qZA(),t.TgZ(22,"ion-item"),t._UZ(23,"ion-input",11),t.qZA(),t.TgZ(24,"ion-card")(25,"ion-card-content"),t._UZ(26,"ion-textarea",12),t.qZA()()(),t.TgZ(27,"div",13)(28,"ion-button",14),t.NdJ("click",function(){return r.save()}),t._UZ(29,"ion-icon",15),t._uU(30,"Save"),t.qZA()(),t.TgZ(31,"ion-grid")(32,"ion-row")(33,"ion-col"),t.YNc(34,O,19,5,"ion-card",16),t.qZA()()()(),t.TgZ(35,"ion-footer")(36,"ion-button",17),t.NdJ("click",function(){return r.back()}),t._UZ(37,"ion-icon",18),t._uU(38,"Back"),t.qZA()()),2&s&&(t.Q6J("translucent",!0),t.xp6(5),t.hij("",r.user," "),t.xp6(2),t.Q6J("fullscreen",!0),t.xp6(27),t.Q6J("ngForOf",r.datos))},dependencies:[i.sg,o.YG,o.PM,o.FN,o.Zi,o.tO,o.Dq,o.wI,o.W2,o.fr,o.jY,o.Gu,o.gu,o.Xz,o.pK,o.Ie,o.Q$,o.q_,o.Nd,o.g2,o.sr,o.j9],styles:["ion-card-title[_ngcontent-%COMP%]{font-size:20px}"]}),d})()}];let w=(()=>{var a;class d{}return(a=d).\u0275fac=function(s){return new(s||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[u.Bz.forChild(M),u.Bz]}),d})(),P=(()=>{var a;class d{}return(a=d).\u0275fac=function(s){return new(s||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[i.ez,v.u5,o.Pc,w]}),d})()},3378:(C,I,c)=>{c.d(I,{m:()=>o});var i=c(9862),v=c(9212);let o=(()=>{var u;class h{constructor(e){this.http=e,this.urlApi="https://www.inspectionsquad.com/api/",this.urlApiReport="https://www.inspectionsquad.com/report/index.php"}getInspectionstAll(){return this.http.get(this.urlApi+"Inspections/getAll")}getAsignmentAll(){return this.http.get(this.urlApi+"Assignment/getAll")}getAssigmentById(e){const n={headers:new i.WM({"Content-Type":"application/json"})};return this.http.post(this.urlApi+"Assignment/getById",e,n)}getLogin(e){const n={headers:new i.WM({"Content-Type":"application/json"})};return this.http.post(this.urlApi+"Usuarios/login",e,n)}getObservationSection(e){const n={headers:new i.WM({"Content-Type":"application/json"})};return this.http.post(this.urlApi+"Observation/getByIdFather",e,n)}getObservation(e){const n={headers:new i.WM({"Content-Type":"application/json"})};return this.http.post(this.urlApi+"Observation/getObservation",e,n)}getObservationChild(e){const n={headers:new i.WM({"Content-Type":"application/json"})};return this.http.post(this.urlApi+"Observation/getObservationChild",e,n)}saveAssing(e){const n={headers:new i.WM({"Content-Type":"application/json"})};return this.http.post(this.urlApi+"Assignment/save",e,n)}delAssing(e){const n={headers:new i.WM({"Content-Type":"application/json"})};return this.http.post(this.urlApi+"Assignment/delete",e,n)}saveInspection(e){const n={headers:new i.WM({"Content-Type":"application/json"})};return this.http.post(this.urlApi+"Inspections/save",e,n)}saveInspectionDetails(e){const n={headers:new i.WM({"Content-Type":"application/json"})};return this.http.post(this.urlApi+"Inspections/saveDetails",e,n)}getInspectionsByStatusAndId(e){const n={headers:new i.WM({"Content-Type":"application/json"})};return this.http.post(this.urlApi+"Inspections/getInspectionsByStatusAndId",e,n)}getInspectionsByStatus(e){const n={headers:new i.WM({"Content-Type":"application/json"})};return this.http.post(this.urlApi+"Inspections/getInspectionsByStatus",e,n)}getInspectors(){return this.http.get(this.urlApi+"Inspectors/getAll")}delInspector(e){const n={headers:new i.WM({"Content-Type":"application/json"})};return this.http.post(this.urlApi+"Inspectors/delete",e,n)}saveInspector(e){const n={headers:new i.WM({"Content-Type":"application/json"})};return this.http.post(this.urlApi+"Inspectors/save",e,n)}getInspectionById(e){const n={headers:new i.WM({"Content-Type":"application/json"})};return this.http.post(this.urlApi+"Inspections/getInspectionById",e,n)}getDetailsInspection(e){const n={headers:new i.WM({"Content-Type":"application/json"})};return this.http.post(this.urlApi+"Inspections/getDetailsInspection",e,n)}setUpdateStatus(e){const n={headers:new i.WM({"Content-Type":"application/json"})};return this.http.post(this.urlApi+"Inspections/setUpdateStatus",e,n)}saveImage(e){const n={headers:new i.WM({"Content-Type":"application/json"})};return this.http.post(this.urlApi+"Inspections/saveImage",e,n)}getPhotos(e){const n={headers:new i.WM({"Content-Type":"application/json"})};return this.http.post(this.urlApi+"Inspections/getPhotos",e,n)}delPhoto(e){const n={headers:new i.WM({"Content-Type":"application/json"})};return this.http.post(this.urlApi+"Inspections/delImage",e,n)}generateReport(e){return this.http.get(this.urlApiReport+"?id="+e)}}return(u=h).\u0275fac=function(e){return new(e||u)(v.LFG(i.eN))},u.\u0275prov=v.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),h})()}}]);