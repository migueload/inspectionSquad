{"ast":null,"code":"import _asyncToGenerator from \"/Users/migueload/inspectionSquad/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/service.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@ionic/angular\";\nimport * as i4 from \"@angular/common\";\nconst _c0 = a1 => [\"/observation-child\", a1];\nfunction ObservationPage_ion_item_27_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-item\", 10);\n    i0.ɵɵlistener(\"click\", function ObservationPage_ion_item_27_Template_ion_item_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const item_r1 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.setCode(item_r1));\n    });\n    i0.ɵɵelementStart(1, \"ion-label\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(2, _c0, item_r1.code));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r1.description);\n  }\n}\nexport let ObservationPage = /*#__PURE__*/(() => {\n  class ObservationPage {\n    constructor(service, activatedRoute, navCtrl, actionSheetCtrl) {\n      this.service = service;\n      this.activatedRoute = activatedRoute;\n      this.navCtrl = navCtrl;\n      this.actionSheetCtrl = actionSheetCtrl;\n      this.user = localStorage.getItem(\"username\");\n      this.name_emp = localStorage.getItem(\"name_emp\");\n      this.date = localStorage.getItem(\"date\");\n      this.address_emp = localStorage.getItem(\"address_emp\");\n    }\n    ngOnInit() {\n      this.id_observation = this.activatedRoute.snapshot.paramMap.get('id');\n      localStorage.setItem(\"id_observation\", \"\");\n      this.loadObservation(this.id_observation);\n    }\n    loadObservation(id_observation) {\n      const datos = {\n        \"id\": id_observation\n      };\n      this.service.getObservation(datos).subscribe(respuesta => {\n        this.observations = respuesta;\n      }, error => {\n        console.log(\"Error\" + error);\n      });\n    }\n    setCode(item) {\n      const codeAnt = localStorage.getItem(\"codes\");\n      const codesArray = [codeAnt];\n      codesArray.push(item.code);\n      localStorage.setItem(\"codes\", codesArray);\n      localStorage.setItem(\"observation\", item.description);\n    }\n    closeSesion() {\n      localStorage.clear();\n      this.navCtrl.navigateForward('');\n    }\n    presentActionSheet() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        const actionSheet = yield _this.actionSheetCtrl.create({\n          header: 'Actions',\n          buttons: [{\n            text: 'Are you sure you log out?',\n            role: 'exit',\n            handler: () => {\n              _this.closeSesion();\n            }\n          }, {\n            text: 'Cancel',\n            role: 'cancel',\n            data: {\n              action: 'cancel'\n            }\n          }]\n        });\n        yield actionSheet.present();\n      })();\n    }\n    static #_ = this.ɵfac = function ObservationPage_Factory(t) {\n      return new (t || ObservationPage)(i0.ɵɵdirectiveInject(i1.ServiceService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.NavController), i0.ɵɵdirectiveInject(i3.ActionSheetController));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ObservationPage,\n      selectors: [[\"app-observation\"]],\n      decls: 32,\n      vars: 6,\n      consts: [[3, \"translucent\"], [\"src\", \"../../assets/img/logo_circle.png\", \"alt\", \"Logo Inspection squad\", 2, \"width\", \"50px\"], [1, \"user\", 2, \"text-align\", \"right\", 3, \"click\"], [2, \"color\", \"#6E6E6E\"], [\"name\", \"person\"], [2, \"text-align\", \"left\", \"margin-left\", \"20px\", \"margin-bottom\", \"20px\"], [1, \"titulo\"], [3, \"routerLink\", \"click\", 4, \"ngFor\", \"ngForOf\"], [\"fill\", \"default\", \"expand\", \"full\", \"routerLink\", \"../../dashboard\", 2, \"background-color\", \"#fff\", \"color\", \"#000\"], [\"name\", \"chevron-back-outline\"], [3, \"routerLink\", \"click\"]],\n      template: function ObservationPage_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"ion-header\", 0)(1, \"ion-toolbar\");\n          i0.ɵɵelement(2, \"ion-img\", 1);\n          i0.ɵɵelementStart(3, \"div\", 2);\n          i0.ɵɵlistener(\"click\", function ObservationPage_Template_div_click_3_listener() {\n            return ctx.presentActionSheet();\n          });\n          i0.ɵɵelementStart(4, \"ion-label\", 3);\n          i0.ɵɵtext(5);\n          i0.ɵɵelement(6, \"ion-icon\", 4);\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(7, \"ion-content\")(8, \"ion-card\")(9, \"ion-card-header\")(10, \"ion-label\")(11, \"b\");\n          i0.ɵɵtext(12, \"Establishment Address:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(13);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(14, \"ion-label\")(15, \"b\");\n          i0.ɵɵtext(16, \"Establishment Name:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(17);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(18, \"ion-label\")(19, \"b\");\n          i0.ɵɵtext(20, \"Date:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtext(21);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelement(22, \"br\");\n          i0.ɵɵelementStart(23, \"div\", 5)(24, \"ion-label\", 6);\n          i0.ɵɵtext(25, \"OBSERVATION\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(26, \"ion-list\");\n          i0.ɵɵtemplate(27, ObservationPage_ion_item_27_Template, 3, 4, \"ion-item\", 7);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(28, \"footer\")(29, \"ion-button\", 8);\n          i0.ɵɵelement(30, \"ion-icon\", 9);\n          i0.ɵɵtext(31, \"Back\");\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵproperty(\"translucent\", true);\n          i0.ɵɵadvance(5);\n          i0.ɵɵtextInterpolate1(\"\", ctx.user, \" \");\n          i0.ɵɵadvance(8);\n          i0.ɵɵtextInterpolate1(\" \", ctx.address_emp, \"\");\n          i0.ɵɵadvance(4);\n          i0.ɵɵtextInterpolate1(\" \", ctx.name_emp, \"\");\n          i0.ɵɵadvance(4);\n          i0.ɵɵtextInterpolate1(\" \", ctx.date, \"\");\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"ngForOf\", ctx.observations);\n        }\n      },\n      dependencies: [i4.NgForOf, i3.IonButton, i3.IonCard, i3.IonCardHeader, i3.IonContent, i3.IonHeader, i3.IonIcon, i3.IonImg, i3.IonItem, i3.IonLabel, i3.IonList, i3.IonToolbar, i3.RouterLinkDelegate, i2.RouterLink],\n      styles: [\"ion-label[_ngcontent-%COMP%]{font-size:16px}\"]\n    });\n  }\n  return ObservationPage;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}