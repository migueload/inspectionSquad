{"ast":null,"code":"import _asyncToGenerator from \"/Users/migueload/inspectionSquad/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { Camera } from '@capacitor/camera';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/service.service\";\nimport * as i2 from \"@ionic/angular\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/router\";\nconst _c0 = a1 => [\"/observation-section\", a1];\nfunction DashboardPage_ion_row_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-row\")(1, \"ion-col\")(2, \"ion-card\", 17);\n    i0.ɵɵlistener(\"click\", function DashboardPage_ion_row_16_Template_ion_card_click_2_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const dato_r3 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.setCode(dato_r3));\n    });\n    i0.ɵɵelementStart(3, \"ion-card-header\")(4, \"ion-card-subtitle\")(5, \"b\");\n    i0.ɵɵtext(6, \"Date:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"ion-card-subtitle\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"ion-card-title\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"ion-card-content\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const dato_r3 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(6, _c0, dato_r3.id_inspection));\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", dato_r3.date, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", dato_r3.id_inspection, \" - \", dato_r3.description_inspection, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(dato_r3.name_emp);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", dato_r3.address_emp, \" \");\n  }\n}\nfunction DashboardPage_ion_grid_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-grid\")(1, \"ion-row\")(2, \"ion-col\")(3, \"ion-card\")(4, \"ion-card-content\")(5, \"ion-label\", 18);\n    i0.ɵɵtext(6, \" Has no pending inspections\");\n    i0.ɵɵelement(7, \"ion-icon\", 19);\n    i0.ɵɵelementEnd()()()()()();\n  }\n}\nfunction DashboardPage_ion_tab_button_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-tab-button\", 20);\n    i0.ɵɵelement(1, \"ion-icon\", 21);\n    i0.ɵɵelementStart(2, \"ion-label\");\n    i0.ɵɵtext(3, \"INSPECTORS\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport let DashboardPage = /*#__PURE__*/(() => {\n  class DashboardPage {\n    constructor(service, navCtrl, actionSheetCtrl) {\n      this.service = service;\n      this.navCtrl = navCtrl;\n      this.actionSheetCtrl = actionSheetCtrl;\n      this.isActionSheetOpen = false;\n      this.vacio = false;\n      this.swAdmin = false;\n      this.isRefrescar = false;\n    }\n    ngOnInit() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        document.body.classList.remove('dark');\n        localStorage.setItem(\"id_inspection\", \"\");\n        _this.user = localStorage.getItem(\"username\");\n        _this.nivel = localStorage.getItem(\"nivel\");\n        _this.nivel == \"1\" ? _this.swAdmin = true : _this.swAdmin = false;\n        if (_this.nivel == \"1\") {\n          _this.loadAssigmentAll();\n        } else {\n          _this.loadAssigment();\n        }\n        let hasPermissionCamera = yield Camera.checkPermissions();\n        console.log(hasPermissionCamera);\n      })();\n    }\n    loadAssigmentAll() {\n      this.service.getAsignmentAll().subscribe(data => {\n        this.datos = data;\n        data[0] == undefined ? this.vacio = true : this.vacio = false;\n      }, error => {\n        console.error(\"Error al obtener los datos\", error);\n      });\n    }\n    loadAssigment() {\n      const id_inspector = localStorage.getItem('id_inspector');\n      const datos = {\n        \"id\": id_inspector\n      };\n      console.log(datos);\n      this.service.getAssigmentById(datos).subscribe(data => {\n        this.datos = data;\n        data[0] == undefined ? this.vacio = true : this.vacio = false;\n      }, error => {\n        console.error(\"Error al obtener los datos\", error);\n      });\n    }\n    refreshPage() {\n      this.ionViewWillEnter();\n    }\n    ionViewWillEnter() {\n      if (this.isRefrescar) {\n        document.location.reload();\n        this.isRefrescar = false;\n      }\n    }\n    setCode(item) {\n      const codesArray = [];\n      codesArray.push(item.id_inspection);\n      localStorage.setItem(\"codes\", codesArray);\n      localStorage.setItem(\"id_assigment\", item.id);\n      localStorage.setItem(\"type_inspection\", item.id_inspection);\n      localStorage.setItem(\"address_emp\", item.address_emp);\n      localStorage.setItem(\"name_emp\", item.name_emp);\n      localStorage.setItem(\"date\", item.date);\n    }\n    closeSesion() {\n      localStorage.clear();\n      this.navCtrl.navigateForward('');\n    }\n    presentActionSheet() {\n      var _this2 = this;\n      return _asyncToGenerator(function* () {\n        const actionSheet = yield _this2.actionSheetCtrl.create({\n          header: 'Actions',\n          buttons: [{\n            text: 'Are you sure you log out?',\n            role: 'exit',\n            handler: () => {\n              _this2.closeSesion();\n            }\n          }, {\n            text: 'Cancel',\n            role: 'cancel',\n            data: {\n              action: 'cancel'\n            }\n          }]\n        });\n        yield actionSheet.present();\n      })();\n    }\n    static #_ = this.ɵfac = function DashboardPage_Factory(t) {\n      return new (t || DashboardPage)(i0.ɵɵdirectiveInject(i1.ServiceService), i0.ɵɵdirectiveInject(i2.NavController), i0.ɵɵdirectiveInject(i2.ActionSheetController));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: DashboardPage,\n      selectors: [[\"app-dashboard\"]],\n      decls: 31,\n      vars: 6,\n      consts: [[3, \"translucent\"], [\"src\", \"../../assets/img/logo_circle.png\", \"alt\", \"Logo Inspection squad\", 2, \"width\", \"50px\"], [1, \"user\", 2, \"text-align\", \"right\", 3, \"click\"], [2, \"color\", \"#6E6E6E\"], [\"name\", \"person\"], [3, \"fullscreen\"], [2, \"text-align\", \"left\", \"margin-left\", \"20px\"], [1, \"titulo\"], [1, \"titulo\", 2, \"font-size\", \"14px\"], [4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [\"slot\", \"bottom\", 2, \"background-color\", \"#1c345c\"], [\"tab\", \"\", \"routerLink\", \"../assing\", 2, \"font-size\", \"14px\", \"background-color\", \"#1c345c\", \"color\", \"#fff\"], [\"name\", \"person-add-outline\"], [\"tab\", \"\", \"routerLink\", \"../list\", 2, \"font-size\", \"14px\", \"background-color\", \"#1c345c\", \"color\", \"#fff\"], [\"aria-hidden\", \"true\", \"name\", \"list\"], [\"tab\", \"\", \"routerLink\", \"../inspector\", \"style\", \"font-size:14px;background-color: #1c345c;color: #fff;\", 4, \"ngIf\"], [3, \"routerLink\", \"click\"], [2, \"font-size\", \"20px\"], [\"name\", \"alert\"], [\"tab\", \"\", \"routerLink\", \"../inspector\", 2, \"font-size\", \"14px\", \"background-color\", \"#1c345c\", \"color\", \"#fff\"], [\"name\", \"person-circle-outline\"]],\n      template: function DashboardPage_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"ion-header\", 0)(1, \"ion-toolbar\");\n          i0.ɵɵelement(2, \"ion-img\", 1);\n          i0.ɵɵelementStart(3, \"div\", 2);\n          i0.ɵɵlistener(\"click\", function DashboardPage_Template_div_click_3_listener() {\n            return ctx.presentActionSheet();\n          });\n          i0.ɵɵelementStart(4, \"ion-label\", 3);\n          i0.ɵɵtext(5);\n          i0.ɵɵelement(6, \"ion-icon\", 4);\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(7, \"ion-content\", 5);\n          i0.ɵɵelement(8, \"br\");\n          i0.ɵɵelementStart(9, \"div\", 6)(10, \"ion-label\", 7);\n          i0.ɵɵtext(11, \"DASHBOARD\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(12, \"br\");\n          i0.ɵɵelementStart(13, \"ion-label\", 8);\n          i0.ɵɵtext(14, \"INSPECTIONS PENDING\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(15, \"ion-grid\");\n          i0.ɵɵtemplate(16, DashboardPage_ion_row_16_Template, 14, 8, \"ion-row\", 9);\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(17, DashboardPage_ion_grid_17_Template, 8, 0, \"ion-grid\", 10);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(18, \"ion-footer\")(19, \"ion-toolbar\")(20, \"ion-tabs\")(21, \"ion-tab-bar\", 11)(22, \"ion-tab-button\", 12);\n          i0.ɵɵelement(23, \"ion-icon\", 13);\n          i0.ɵɵelementStart(24, \"ion-label\");\n          i0.ɵɵtext(25, \"ASSING\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(26, \"ion-tab-button\", 14);\n          i0.ɵɵelement(27, \"ion-icon\", 15);\n          i0.ɵɵelementStart(28, \"ion-label\");\n          i0.ɵɵtext(29, \"LIST\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(30, DashboardPage_ion_tab_button_30_Template, 4, 0, \"ion-tab-button\", 16);\n          i0.ɵɵelementEnd()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵproperty(\"translucent\", true);\n          i0.ɵɵadvance(5);\n          i0.ɵɵtextInterpolate1(\"\", ctx.user, \" \");\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"fullscreen\", true);\n          i0.ɵɵadvance(9);\n          i0.ɵɵproperty(\"ngForOf\", ctx.datos);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.vacio);\n          i0.ɵɵadvance(13);\n          i0.ɵɵproperty(\"ngIf\", ctx.swAdmin);\n        }\n      },\n      dependencies: [i3.NgForOf, i3.NgIf, i2.IonCard, i2.IonCardContent, i2.IonCardHeader, i2.IonCardSubtitle, i2.IonCardTitle, i2.IonCol, i2.IonContent, i2.IonFooter, i2.IonGrid, i2.IonHeader, i2.IonIcon, i2.IonImg, i2.IonLabel, i2.IonRow, i2.IonTabBar, i2.IonTabButton, i2.IonToolbar, i2.IonTabs, i2.RouterLinkDelegate, i4.RouterLink],\n      styles: [\"ion-card-title[_ngcontent-%COMP%]{font-size:20px}ion-card-subtitle[_ngcontent-%COMP%]{font-size:14px}\"]\n    });\n  }\n  return DashboardPage;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}