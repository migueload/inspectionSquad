{"ast":null,"code":"import _asyncToGenerator from \"/Users/migueload/inspectionSquad/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ionic/angular\";\nimport * as i2 from \"../services/service.service\";\nimport * as i3 from \"@angular/forms\";\nexport let HomePage = /*#__PURE__*/(() => {\n  class HomePage {\n    constructor(navCtrl, service, toastController) {\n      this.navCtrl = navCtrl;\n      this.service = service;\n      this.toastController = toastController;\n    }\n    login() {\n      if (this.username != undefined || this.password != undefined) {\n        const datosLogin = {\n          'username': this.username,\n          'password': this.password\n        };\n        this.service.getLogin(datosLogin).subscribe(respuesta => {\n          if (respuesta.id == undefined) {\n            this.validarLogin();\n          } else {\n            localStorage.setItem(\"email\", respuesta.email);\n            localStorage.setItem(\"id_inspector\", respuesta.id);\n            localStorage.setItem(\"nivel\", respuesta.nivel);\n            localStorage.setItem(\"username\", respuesta.username);\n            this.navCtrl.navigateForward('dashboard');\n          }\n        }, error => {\n          console.log(\"Error\" + error);\n        });\n      } else {\n        this.validarVacio();\n      }\n    }\n    validarVacio() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        const toast = yield _this.toastController.create({\n          message: 'You must enter a username and a password',\n          duration: 2000,\n          position: 'top'\n        });\n        toast.present();\n      })();\n    }\n    validarLogin() {\n      var _this2 = this;\n      return _asyncToGenerator(function* () {\n        const toast = yield _this2.toastController.create({\n          message: 'invalid username and password',\n          duration: 2000,\n          position: 'top'\n        });\n        toast.present();\n      })();\n    }\n    static #_ = this.ɵfac = function HomePage_Factory(t) {\n      return new (t || HomePage)(i0.ɵɵdirectiveInject(i1.NavController), i0.ɵɵdirectiveInject(i2.ServiceService), i0.ɵɵdirectiveInject(i1.ToastController));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: HomePage,\n      selectors: [[\"app-home\"]],\n      decls: 22,\n      vars: 2,\n      consts: [[2, \"background-color\", \"#1c345c\"], [\"fullscreen\", \"\", 1, \"ion-padding\"], [1, \"login-container\"], [2, \"height\", \"100px\"], [1, \"login-card\"], [\"position\", \"floating\"], [\"type\", \"text\", 2, \"color\", \"#000\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"password\", 2, \"color\", \"#000\", 3, \"ngModel\", \"ngModelChange\"], [\"fill\", \"clear\", \"expand\", \"full\", 2, \"background-color\", \"#1c345c\", \"color\", \"#fff\", 3, \"click\"], [1, \"container_logo\"], [\"src\", \"../../assets/img/logo_circle.png\", 1, \"logo\"], [2, \"height\", \"20px\"], [2, \"text-align\", \"center\"], [1, \"all_reserved\"]],\n      template: function HomePage_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"ion-app\", 0)(1, \"ion-content\", 1)(2, \"div\", 2);\n          i0.ɵɵelement(3, \"div\", 3);\n          i0.ɵɵelementStart(4, \"ion-card\", 4)(5, \"ion-card-content\")(6, \"div\")(7, \"ion-label\", 5);\n          i0.ɵɵtext(8, \"Username\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(9, \"ion-input\", 6);\n          i0.ɵɵlistener(\"ngModelChange\", function HomePage_Template_ion_input_ngModelChange_9_listener($event) {\n            return ctx.username = $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(10, \"div\")(11, \"ion-label\", 5);\n          i0.ɵɵtext(12, \"Password\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(13, \"ion-input\", 7);\n          i0.ɵɵlistener(\"ngModelChange\", function HomePage_Template_ion_input_ngModelChange_13_listener($event) {\n            return ctx.password = $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(14, \"ion-button\", 8);\n          i0.ɵɵlistener(\"click\", function HomePage_Template_ion_button_click_14_listener() {\n            return ctx.login();\n          });\n          i0.ɵɵtext(15, \"Sing in\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(16, \"div\", 9);\n          i0.ɵɵelement(17, \"ion-img\", 10);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelement(18, \"div\", 11);\n          i0.ɵɵelementStart(19, \"div\", 12)(20, \"ion-label\", 13);\n          i0.ɵɵtext(21, \"\\u00A9 2023 All rights reserved, Inspection Squad\");\n          i0.ɵɵelementEnd()()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(9);\n          i0.ɵɵproperty(\"ngModel\", ctx.username);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngModel\", ctx.password);\n        }\n      },\n      dependencies: [i3.NgControlStatus, i3.NgModel, i1.IonApp, i1.IonButton, i1.IonCard, i1.IonCardContent, i1.IonContent, i1.IonImg, i1.IonInput, i1.IonLabel, i1.TextValueAccessor],\n      styles: [\"@charset \\\"UTF-8\\\";ion-content[_ngcontent-%COMP%]{--background: transparent}.login-container[_ngcontent-%COMP%]{position:relative;height:100vh}.background-image[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0;z-index:-1;opacity:.5}.login-card[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;background-color:#fffc;border-radius:10px;box-shadow:0 4px 8px #0000001a}.login-title[_ngcontent-%COMP%]{text-align:center;font-size:1.5em;color:#333}ion-button[_ngcontent-%COMP%]{margin-top:20px}.container_logo[_ngcontent-%COMP%]{width:100%;text-align:center;padding-left:35%}.logo[_ngcontent-%COMP%]{width:100px}.all_reserved[_ngcontent-%COMP%]{color:#fff}\"]\n    });\n  }\n  return HomePage;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}